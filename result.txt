def result(request):
    dec=request.POST.get('display')
    course_id = request.POST.get('courses')
    # Get the Course object based on the ID
    course = Course.objects.get(id=course_id)
    course_name = course.name
    # Retrieve the associated department for the course
    department = course.department

    # Filter Programme_Specific_Outcome objects based on the related Department
    pso = Programme_Specific_Outcome.objects.filter(department=department)

    # Retrieve Course_Outcome objects for the specific course
    co = course.course_outcome_set.all()

    # Fetch the PSO-CO connections for each CO
    pso_co_connections = []

    for outcome in co:
        connected_pso_ids = outcome.programme_specific_outcomes.values_list('id', flat=True)
        pso_co_connections.append((outcome.id, connected_pso_ids))

    context = {
        'program_specific_outcomes': pso,
        'course_outcomes': co,
        'pso_co_connections': pso_co_connections,
        'course_name': course_name,
        'course_id': course_id,
    }
    return render(request, 'result.html', context)